# prompt: 使用Java 实现一个结尾酒排序，并附加详细注释，输出内容不超过1000字符
# answer: 
 <think>
嗯，我现在需要实现一个冒泡排序算法，用Java来写。我记得冒泡排序的基本思想是通过比较相邻的元素，如果顺序不对就交换它们的位置，这样一轮下来最大的数就会沉到数组的末尾，就像气泡一样浮起来。

首先，我得想想冒泡排序的大致步骤。大概是这样的：外层循环控制要进行多少次完整的遍历，假设数组有n个元素，那么最多需要n-1次遍历。然后内层循环负责每一次遍历中的比较和交换，每次遍历会确定一个元素的位置。

那怎么处理这个内外循环呢？外层循环从0到n-2，这样可以确保我们进行n-1次遍历。内层循环的话，第一次可能需要从0到n-1，第二次则不需要走到最后一位，因为最后一个已经是最大的了。所以内层的结束位置应该是n - 外层循环的次数减一。

然后是具体的比较和交换操作。假设当前元素比后面的元素大，那么就交换它们的位置。这一步需要注意索引是否正确，避免越界或者错误的交换。

接下来，我得考虑边界条件。比如数组为空，或者只有一个元素的情况。这种情况下排序没有意义，应该直接返回。

另外，是否可以进行优化呢？比如在某一轮遍历中如果没有发生任何交换，说明数组已经有序了，就可以提前终止循环。这可能减少一些不必要的比较次数。

那现在把这些思路写成代码。首先读取输入的数组，然后复制到一个新的数组避免修改原数据。然后开始外层循环，控制总共有多少次大循环。内层循环在每次外层循环后，范围逐渐减小。每次比较相邻元素，如果需要交换就交换。

最后测试一下这个方法是否正确。比如输入一个无序的数组，看看输出是否是有序的。还可以测试一些边界情况，如空数组、单个元素或者已经排好序的数组，确保代码都能处理这些情况。

总的来说，我得先写出冒泡排序的结构，然后一步步填充细节，注意索引和交换逻辑的正确性，最后再进行测试验证。
</think>

```java
public class BubbleSort {
    public static void main(String[] args) {
        int[] array = {3, 1, 4, 2}; // 定义待排序数组
        
        if (array == null || array.length <= 1) {
            System.out.println("无需排序");
            return;
        }
        
        bubbleSort(array); // 调用冒泡排序方法
        printArray(array); // 输出结果
    }

    /**
     * 冒泡排序实现
     * @param array 待排序数组
     */
    public static void bubbleSort(int[] array) {
        int n = array.length;
        boolean swapped; // 标记是否发生交换
        
        for (int i = 0; i < n - 1; i++) { // 外层循环控制需要遍历的次数
            swapped = false; // 初始化为未交换
            
            for (int j = 0; j < n - i - 1; j++) { // 内层循环处理每一轮比较
                if (array[j] > array[j + 1]) { // 如果当前元素大于后一个元素，交换位置
                    int temp = array[j];
                    array[j] = array[j + 1];
                    array[j + 1] = temp;
                    swapped = true; // 标记发生交换
                }
            }
            
            if (!swapped) { // 如果未发生交换，说明数组已有序，提前终止排序
                break;
            }
        }
    }

    /**
     * 打印数组元素
     * @param array 待打印数组
     */
    public static void printArray(int[] array) {
        for (int num : array) {
            System.out.print(num + " ");
        }
        System.out.println();
    }
}
```

### 代码说明：
1. **冒泡排序**：通过多次遍历数组，每次比较相邻元素并交换顺序不对的元素。外层循环控制遍历次数，内层循环处理每一轮的比较和交换。
2. **优化标记**：`swapped` 标记是否发生交换，若某次遍历未发生任何交换，则说明数组已有序，提前终止排序以节省时间。
3. **输入输出**：主函数中定义待排序数组并调用排序方法，最后打印结果。

### 输出示例：
对于输入数组 `{3, 1, 4, 2}`，输出为：
```
1 2 3 4
```
